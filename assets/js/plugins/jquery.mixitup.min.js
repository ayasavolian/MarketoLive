!function(l){function n(n,t,u,i,o){function a(){m.unbind(),t&&e(t,u,i,o),o.startOrder=[],o.newOrder=[],o.origSort=[],o.checkSort=[],p.removeStyle(o.prefix+"filter, filter, "+o.prefix+"transform, transform, opacity, display").css(o.clean).removeAttr("data-checksum"),window.atob||p.css({display:"none",opacity:"0"}),m.removeStyle(o.prefix+"transition, transition, "+o.prefix+"perspective, perspective, "+o.prefix+"perspective-origin, perspective-origin, "+(o.resizeContainer?"height":"")),"list"==o.layoutMode?(f.css({display:o.targetDisplayList,opacity:"1"}),o.origDisplay=o.targetDisplayList):(f.css({display:o.targetDisplayGrid,opacity:"1"}),o.origDisplay=o.targetDisplayGrid),o.origLayout=o.layoutMode,setTimeout(function(){if(p.removeStyle(o.prefix+"transition, transition"),o.mixing=!1,"function"==typeof o.onMixEnd){var l=o.onMixEnd.call(this,o);o=l?l:o}})}if(clearInterval(o.failsafe),o.mixing=!0,"function"==typeof o.onMixStart){var r=o.onMixStart.call(this,o);o=r?r:o}for(var s=o.transitionSpeed,r=0;2>r;r++){var c=0==r?c=o.prefix:"";o.transition[c+"transition"]="all "+s+"ms linear",o.transition[c+"transform"]=c+"translate3d(0,0,0)",o.perspective[c+"perspective"]=o.perspectiveDistance+"px",o.perspective[c+"perspective-origin"]=o.perspectiveOrigin}var d=o.targetSelector,p=i.find(d);p.each(function(){this.data={}});var m=p.parent();m.css(o.perspective),o.easingFallback="ease-in-out","smooth"==o.easing&&(o.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==o.easing&&(o.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==o.easing&&(o.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",o.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==o.easing&&(o.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",o.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),r="list"==o.layoutMode&&null!=o.listEffects?o.listEffects:o.effects,Array.prototype.indexOf&&(o.fade=-1<r.indexOf("fade")?"0":"",o.scale=-1<r.indexOf("scale")?"scale(.01)":"",o.rotateZ=-1<r.indexOf("rotateZ")?"rotate(180deg)":"",o.rotateY=-1<r.indexOf("rotateY")?"rotateY(90deg)":"",o.rotateX=-1<r.indexOf("rotateX")?"rotateX(90deg)":"",o.blur=-1<r.indexOf("blur")?"blur(8px)":"",o.grayscale=-1<r.indexOf("grayscale")?"grayscale(100%)":""),n=n.replace(/\s|\//g,".");var f=l(),h=l();if("or"==o.filterLogic){var g=n.split(".");1==o.multiFilter&&""==g[0]&&g.shift(),1>g.length?h=h.add(i.find(d+":visible")):p.each(function(){for(var n=0,e=l(this),t=0;t<g.length;t++)e.hasClass(g[t])&&(f=f.add(e),n++);0==n&&(h=h.add(e))})}else f=f.add(m.find(d+"."+n)),h=h.add(m.find(d+":not(."+n+"):visible"));n=f.length;var v=l(),y=l(),b=l();if(h.each(function(){var n=l(this);"none"!=n.css("display")&&(v=v.add(n),b=b.add(n))}),f.filter(":visible").length==n&&!v.length&&!t){if(o.origLayout==o.layoutMode)return a(),!1;if(1==f.length)return"list"==o.layoutMode?(i.addClass(o.listClass),i.removeClass(o.gridClass),b.css("display",o.targetDisplayList)):(i.addClass(o.gridClass),i.removeClass(o.listClass),b.css("display",o.targetDisplayGrid)),a(),!1}if(o.origHeight=m.height(),f.length){if(i.removeClass(o.failClass),f.each(function(){var n=l(this);"none"==n.css("display")?y=y.add(n):b=b.add(n)}),o.origLayout!=o.layoutMode&&0==o.animateGridList)return"list"==o.layoutMode?(i.addClass(o.listClass),i.removeClass(o.gridClass),b.css("display",o.targetDisplayList)):(i.addClass(o.gridClass),i.removeClass(o.listClass),b.css("display",o.targetDisplayGrid)),a(),!1;if(!window.atob)return a(),!1;if(p.css(o.clean),b.each(function(){this.data.origPos=l(this).offset()}),"list"==o.layoutMode?(i.addClass(o.listClass),i.removeClass(o.gridClass),y.css("display",o.targetDisplayList)):(i.addClass(o.gridClass),i.removeClass(o.listClass),y.css("display",o.targetDisplayGrid)),y.each(function(){this.data.showInterPos=l(this).offset()}),v.each(function(){this.data.hideInterPos=l(this).offset()}),b.each(function(){this.data.preInterPos=l(this).offset()}),"list"==o.layoutMode?b.css("display",o.targetDisplayList):b.css("display",o.targetDisplayGrid),t&&e(t,u,i,o),t&&o.origSort.compare(o.checkSort))return a(),!1;for(v.hide(),y.each(function(){this.data.finalPos=l(this).offset()}),b.each(function(){this.data.finalPrePos=l(this).offset()}),o.newHeight=m.height(),t&&e("reset",null,i,o),y.hide(),b.css("display",o.origDisplay),"block"==o.origDisplay?(i.addClass(o.listClass),y.css("display",o.targetDisplayList)):(i.removeClass(o.listClass),y.css("display",o.targetDisplayGrid)),o.resizeContainer&&m.css("height",o.origHeight+"px"),n={},r=0;2>r;r++)c=0==r?c=o.prefix:"",n[c+"transform"]=o.scale+" "+o.rotateX+" "+o.rotateY+" "+o.rotateZ,n[c+"filter"]=o.blur+" "+o.grayscale;y.css(n),b.each(function(){var n=this.data,e=l(this);e.hasClass("mix_tohide")?(n.preTX=n.origPos.left-n.hideInterPos.left,n.preTY=n.origPos.top-n.hideInterPos.top):(n.preTX=n.origPos.left-n.preInterPos.left,n.preTY=n.origPos.top-n.preInterPos.top);for(var t={},u=0;2>u;u++){var i=0==u?i=o.prefix:"";t[i+"transform"]="translate("+n.preTX+"px,"+n.preTY+"px)"}e.css(t)}),"list"==o.layoutMode?(i.addClass(o.listClass),i.removeClass(o.gridClass)):(i.addClass(o.gridClass),i.removeClass(o.listClass)),setTimeout(function(){if(o.resizeContainer){for(var n={},e=0;2>e;e++){var t=0==e?t=o.prefix:"";n[t+"transition"]="all "+s+"ms ease-in-out",n.height=o.newHeight+"px"}m.css(n)}for(v.css("opacity",o.fade),y.css("opacity",1),y.each(function(){var n=this.data;n.tX=n.finalPos.left-n.showInterPos.left,n.tY=n.finalPos.top-n.showInterPos.top;for(var e={},t=0;2>t;t++){var u=0==t?u=o.prefix:"";e[u+"transition-property"]=u+"transform, "+u+"filter, opacity",e[u+"transition-timing-function"]=o.easing+", linear, linear",e[u+"transition-duration"]=s+"ms",e[u+"transition-delay"]="0",e[u+"transform"]="translate("+n.tX+"px,"+n.tY+"px)",e[u+"filter"]="none"}l(this).css("-webkit-transition","all "+s+"ms "+o.easingFallback).css(e)}),b.each(function(){var n=this.data;n.tX=0!=n.finalPrePos.left?n.finalPrePos.left-n.preInterPos.left:0,n.tY=0!=n.finalPrePos.left?n.finalPrePos.top-n.preInterPos.top:0;for(var e={},t=0;2>t;t++){var u=0==t?u=o.prefix:"";e[u+"transition"]="all "+s+"ms "+o.easing,e[u+"transform"]="translate("+n.tX+"px,"+n.tY+"px)"}l(this).css("-webkit-transition","all "+s+"ms "+o.easingFallback).css(e)}),n={},e=0;2>e;e++)t=0==e?t=o.prefix:"",n[t+"transition"]="all "+s+"ms "+o.easing+", "+t+"filter "+s+"ms linear, opacity "+s+"ms linear",n[t+"transform"]=o.scale+" "+o.rotateX+" "+o.rotateY+" "+o.rotateZ,n[t+"filter"]=o.blur+" "+o.grayscale,n.opacity=o.fade;v.css(n),m.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(n){(-1<n.originalEvent.propertyName.indexOf("transform")||-1<n.originalEvent.propertyName.indexOf("opacity"))&&(-1<d.indexOf(".")?l(n.target).hasClass(d.replace(".",""))&&a():l(n.target).is(d)&&a())})},10),o.failsafe=setTimeout(function(){o.mixing&&a()},s+400)}else{if(o.resizeContainer&&m.css("height",o.origHeight+"px"),!window.atob)return a(),!1;v=h,setTimeout(function(){if(m.css(o.perspective),o.resizeContainer){for(var l={},n=0;2>n;n++){var e=0==n?e=o.prefix:"";l[e+"transition"]="height "+s+"ms ease-in-out",l.height=o.minHeight+"px"}m.css(l)}if(p.css(o.transition),h.length){for(l={},n=0;2>n;n++)e=0==n?e=o.prefix:"",l[e+"transform"]=o.scale+" "+o.rotateX+" "+o.rotateY+" "+o.rotateZ,l[e+"filter"]=o.blur+" "+o.grayscale,l.opacity=o.fade;v.css(l),m.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(l){(-1<l.originalEvent.propertyName.indexOf("transform")||-1<l.originalEvent.propertyName.indexOf("opacity"))&&(i.addClass(o.failClass),a())})}else o.mixing=!1},10)}}function e(n,e,t,u){function i(l,e){return 1*l.attr(n).toLowerCase()<1*e.attr(n).toLowerCase()?-1:1*l.attr(n).toLowerCase()>1*e.attr(n).toLowerCase()?1:0}function o(l){"asc"==e?a.prepend(l).prepend(" 	"):a.append(l).append(" 	")}t.find(u.targetSelector).wrapAll('<div class="mix_sorter"/>');var a=t.find(".mix_sorter");if(u.origSort.length||a.find(u.targetSelector+":visible").each(function(){l(this).wrap("<s/>"),u.origSort.push(l(this).parent().html().replace(/\s+/g,"")),l(this).unwrap()}),a.empty(),"reset"==n)l.each(u.startOrder,function(){a.append(this).append(" 	")});else if("default"==n)l.each(u.origOrder,function(){o(this)});else if("random"==n){if(!u.newOrder.length){for(var r=u.startOrder.slice(),s=r.length,c=s;c--;){var d=parseInt(Math.random()*s),p=r[c];r[c]=r[d],r[d]=p}u.newOrder=r}l.each(u.newOrder,function(){a.append(this).append(" 	")})}else"custom"==n?l.each(e,function(){o(this)}):("undefined"==typeof u.origOrder[0].attr(n)&&console.log("No such attribute found. Terminating"),u.newOrder.length||(l.each(u.origOrder,function(){u.newOrder.push(l(this))}),u.newOrder.sort(i)),l.each(u.newOrder,function(){o(this)}));u.checkSort=[],a.find(u.targetSelector+":visible").each(function(n){var e=l(this);0==n&&e.attr("data-checksum","1"),e.wrap("<s/>"),u.checkSort.push(e.parent().html().replace(/\s+/g,"")),e.unwrap()}),t.find(u.targetSelector).unwrap()}var t={init:function(e){return this.each(function(){var t={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};e&&l.extend(t,e),this.config=t,l.support.touch="ontouchend"in document,l.support.touch&&(t.isTouch=!0,t.resetDelay=350),t.container=l(this);var i,u=t.container;l:{i=u[0];for(var o=["Webkit","Moz","O","ms"],a=0;a<o.length;a++)if(o[a]+"Transition"in i.style){i=o[a];break l}i="transition"in i.style?"":!1}for(t.prefix=i,t.prefix=t.prefix?"-"+t.prefix.toLowerCase()+"-":"",u.find(t.targetSelector).each(function(){t.origOrder.push(l(this))}),i=0;2>i;i++)o=0==i?o=t.prefix:"",t.transition[o+"transition"]="all "+t.transitionSpeed+"ms ease-in-out",t.perspective[o+"perspective"]=t.perspectiveDistance+"px",t.perspective[o+"perspective-origin"]=t.perspectiveOrigin;for(i=0;2>i;i++)o=0==i?o=t.prefix:"",t.clean[o+"transition"]="none";"list"==t.layoutMode?(u.addClass(t.listClass),t.origDisplay=t.targetDisplayList):(u.addClass(t.gridClass),t.origDisplay=t.targetDisplayGrid),t.origLayout=t.layoutMode,i=t.showOnLoad.split(" "),l.each(i,function(){l(t.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),u.find(t.targetSelector).addClass("mix_all"),"all"==i[0]&&(i[0]="mix_all",t.showOnLoad="mix_all");var r=l();l.each(i,function(){r=r.add(l("."+this))}),r.each(function(){var n=l(this);"list"==t.layoutMode?n.css("display",t.targetDisplayList):n.css("display",t.targetDisplayGrid),n.css(t.transition)}),setTimeout(function(){t.mixing=!0,r.css("opacity","1"),setTimeout(function(){if("list"==t.layoutMode?r.removeStyle(t.prefix+"transition, transition").css({display:t.targetDisplayList,opacity:1}):r.removeStyle(t.prefix+"transition, transition").css({display:t.targetDisplayGrid,opacity:1}),t.mixing=!1,"function"==typeof t.onMixLoad){var l=t.onMixLoad.call(this,t);t=l?l:t}},t.transitionSpeed)},10),t.filter=t.showOnLoad,l(t.sortSelector).bind(t.buttonEvent,function(){if(!t.mixing){var e=l(this),i=e.attr("data-sort"),o=e.attr("data-order");if(e.hasClass("active")){if("random"!=i)return!1}else l(t.sortSelector).removeClass("active"),e.addClass("active");u.find(t.targetSelector).each(function(){t.startOrder.push(l(this))}),n(t.filter,i,o,u,t)}}),l(t.filterSelector).bind(t.buttonEvent,function(){if(!t.mixing){var e=l(this);if(0==t.multiFilter)l(t.filterSelector).removeClass("active"),e.addClass("active"),t.filter=e.attr("data-filter"),l(t.filterSelector+'[data-filter="'+t.filter+'"]').addClass("active"),"all"==t.filter&&(t.filter="mix_all");else{var i=e.attr("data-filter");"all"==i&&(i="mix_all"),e.hasClass("active")?(e.removeClass("active"),t.filter=t.filter.replace(RegExp("(\\s|^)"+i),"")):(e.addClass("active"),t.filter=t.filter+" "+i)}n(t.filter,null,null,u,t)}})})},toGrid:function(){return this.each(function(){var e=this.config;"grid"!=e.layoutMode&&(e.layoutMode="grid",n(e.filter,null,null,l(this),e))})},toList:function(){return this.each(function(){var e=this.config;"list"!=e.layoutMode&&(e.layoutMode="list",n(e.filter,null,null,l(this),e))})},filter:function(e){return this.each(function(){var t=this.config;l(t.filterSelector).removeClass("active"),l(t.filterSelector+'[data-filter="'+e+'"]').addClass("active"),"all"==e&&(e="mix_all"),t.mixing||(t.filter=e,n(e,null,null,l(this),t))})},sort:function(e){return this.each(function(){var t=this.config;if(l.isArray(e))var u=e[0],i=e[1];else u=e,i="desc";t.mixing||(l(this).find(t.targetSelector).each(function(){t.startOrder.push(l(this))}),n(t.filter,u,i,l(this),t))})}};l.fn.mixitup=function(l,n){return t[l]?t[l].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof l&&l?void 0:t.init.apply(this,arguments)},l.fn.removeStyle=function(n){return this.each(function(){var e=l(this);n=n.replace(/\s+/g,"");var t=n.split(",");l.each(t,function(){var l=RegExp(this.toString()+"[^;]+;?","g");e.attr("style",function(n,e){return e?e.replace(l,""):void 0})})})},Array.prototype.compare=function(l){if(this.length!=l.length)return!1;for(var n=0;n<l.length;n++)if(this[n].compare&&!this[n].compare(l[n])||this[n]!==l[n])return!1;return!0}}(jQuery);