console.log("Marketo App > Running"),window.mkto_live_plugin_state=!0;var currentUrl=window.location.href,mktoAppDomain="^https://app-[a-z0-9]+.marketo.com",mktoAppMatch="https://app-*.marketo.com",mktoLoginDomain="^https://login.marketo.com",mktoAppLoginDomain="^https://app.marketo.com",mktoDesignerDomain="^https://[a-z0-9]+-[a-z0-9]+.marketodesigner.com",mktoDesignerMatch="https://*.marketodesigner.com/*",mktoEmailDesigner=mktoDesignerDomain+"/ds",mktoLandingPageDesigner=mktoDesignerDomain+"/lpeditor/",defaultTurnerLogoGreen="http://marketolive.com/m3/assets/img/turner-tech-green.png",defaultTurnerLogoWhite="http://marketolive.com/m3/assets/img/turner-tech-white.png",defaultColor="rgb(42, 83, 112)",mktoWizard=mktoAppDomain+"/m#",rtpDemoDomain="^http://sjrtp1.marketo.com/demo/$|^http://cloud4.insightera.com/demo/$",emailDeliverabilityDomain="^https://250ok.com/",mktoMyMarketoFragment="MM0A1",mktoMarketingActivitiesDefaultFragment="MA15A1",mktoLeadDatabaseDefaultFragment="ML0A1ZN2",mktoEmailDesignerFragment="EME",mktoEmailPreviewFragment="EMP",mktoLandingPageDesignerFragment="LPE",mktoLandingPagePreviewFragment="LPP",mktoFormWizardFragment="FOE",mktoMobilePushNotificationWizardFragment="MPNE",mktoSocialAppWizardFragment="SOAE",isMktoLiveInstance=!1,pod,APP=APP||{};if(APP.getCookie=function(e){console.log("Marketo App > Getting: Cookie "+e);for(var n,t=e+"=",o=document.cookie.split(";"),a=0;a<o.length;++a){var n=o[a].trim();if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},APP.disableDemoPluginCheck=function(){console.log("Marketo App > Disabling: Demo Plugin Check"),MktPage.validateDemoPlugin=function(){},isMktoLiveInstance=!0},APP.disableSystemErrorMessage=function(){console.log("Marketo App > Disabling: System Error Message"),MktMessage.showSystemError=function(){}},APP.overrideDeliverabilityToolsTile=function(){console.log("Marketo App > Overriding: Deliverability Tools Tile");var e=document.getElementsByTagName("a"),t=0;for(t=0;t<e.length;++t)if(-1!=e[t].href.search("homepage/sso\\?sso=250ok")){e[t].href="https://250ok.com/login";break}},APP.enableSmartCampaignSaving=function(){console.log("Marketo App > Enabling: Saving for Smart Campaigns"),Mkt.widgets.DataPanelManager.prototype.save=function(e,t,o){if(this._updateDataPanelOrder(!0),this.saveQueue.blockingSaveInProgress)return this.saveQueue.pendingChangesCount++,this.saveQueue.dataPanelMetas=this._serializeDataPanels(),void(this.saveQueue.dataPanelCount=this.countDataPanels());var n;if(n=this.saveQueue.dataPanelMetas?this.saveQueue.dataPanelMetas:this._serializeDataPanels(),this.saveQueue.pendingChangesCount=0,this.saveQueue.dataPanelMetas=null,this.saveQueue.dataPanelCount=0,null!==n){if(0===n.length&&this.isFlow,this.dpSubtype!=DPConst.RUN_ACTION&&n){if(this.lastSave.dataPanelMetas&&this.lastSave.dataPanelMetas==n)return;if(this.lastSave.dataPanelMetasUpdated&&this.lastSave.dataPanelMetasUpdated==n)return}console.debug("Saving "+this.dpType+":",MktFormat.formatJsonStr(n)),DPDEBUG&&(console.debug("Current Save:",n),this.lastSave.dataPanelMetas&&console.debug("Previous Save:",this.lastSave.dataPanelMetas),this.lastSave.dataPanelMetasUpdated&&console.debug("Previous Update:",this.lastSave.dataPanelMetasUpdated)),this.lastSave.acceptUpdates=o,this.lastSave.dataPanelMetas=n,this.saveQueue.blockingSaveInProgress=!0,this.beforeSaveMessage();var a=Ext.apply({dataPanelMetas:n,accessZoneId:this.accessZoneId},this.baseSaveParams);if(this.isSmartlist&&this.smartListRuleLogic.customMode())if(this.smartListRuleLogic.isCustomLogicValid()){var i=this.smartListRuleLogic.getSmartListLogicSaveParams();Ext.apply(a,i)}else console.debug("Data panel save successful. Custom rule logic is not valid");a[this.appVarsBase+"Id"]=this.dataPanelStorageId,this.beforeSaveHook(),DPDEBUG&&console.debug("Saving... ",a),MktSession.ajaxRequest(this.saveAction,{serializeParms:a,onMySuccess:this.saveSuccess.createDelegate(this),onMyFailure:this.saveFailure.createDelegate(this)})}}},APP.disableSmartCampaignSaving=function(){console.log("Marketo App > Disabling: Saving for Smart Campaigns"),Mkt.widgets.DataPanelManager.prototype.save=function(e,t,o){this._updateDataPanelOrder(!0)}},APP.enableSmartCampaignCanvas=function(){console.log("Marketo App > Enabling: Smart Campaign Canvases"),Mkt.widgets.DataPanelLayout.prototype.initComponent=function(){if(this.dpEditable=!0,DPDEBUG=!1,this.dpSubtype&&this.addClass("mktDataPanelLayout-"+this.dpSubtype),this.canvas&&MktCanvas.mask(this.canvas),"Smartlist"==this.dpType?(this.isSmartlist=!0,this.Flow=!1,this.SETTINGS="conditions"):"Flow"==this.dpType&&(this.isSmartlist=!1,this.isFlow=!0,this.SETTINGS="actions"),this.items=[],this.items.push({region:"center",margins:MktPage.isFeatureEnabled("carbolt")?"":"7 5 10 10",layout:"fit",items:this.createManager()}),this.dpEditable&&this.canvas&&this.paletteWidth>0){this.canvasWidth=MktCanvas.getWidth();var e=Math.min(this.canvasWidth-700,this.maxPaletteWidth);this.paletteWidth=Math.max(this.paletteWidth,e),this.items.push({cls:"mktEastPanel",region:"east",margins:MktPage.isFeatureEnabled("carbolt")?"0 0 0 15":"5 5 5 8",layout:"fit",width:this.paletteWidth,items:this.createPalette()})}Mkt.widgets.DataPanelLayout.superclass.initComponent.apply(this),this.canvas&&MktPage.canvasCleanupStack.push(this.canvasCleanup.createDelegate(this)),this.canvas&&this.extendCanvasToolbar(),this.canvas&&this.extendCanvasGutter(),this.canvas&&MktCanvas.addHook(this.canvas,{dp:this})}},APP.discardLandingPageDrafts=function(e){console.log("Marketo App > Discarding: Landing Page Drafts");var t=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Landing Page Drafts",progress:!1,wait:!1,width:270,closable:!1});mktLPLManager.doModifyPages("revert",e),t.hide()},APP.discardEmailDrafts=function(e){console.log("Marketo App > Discarding: Email Drafts");var t=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Email Drafts",progress:!1,wait:!1,width:270,closable:!1});mktEmManager.discardDraft(e),t.hide()},APP.discardFormPushDrafts=function(e,t){console.log("Marketo App > Discarding: "+e+" Drafts");var o=Ext4.getStore(e);MktMessage.showSystemError;MktMessage.showSystemError=Ext4.emptyFn,"undefined"!=typeof Mkt3&&(o||(o=Ext4.create("Mkt3.store."+e,{storeId:e})),o.load({filters:[{property:"id",value:t}],callback:function(e){for(var t=0;t<e.length;t++){var o=e[t];o.discard(function(e){e&&o.updateNode()},this)}}}))},APP.overrideTreeNodeExpand=function(){console.log("Marketo App > Overriding: Tree Node Expand"),MktAsyncTreeNode.prototype.expand=function(){var n,e=this.attributes,t="Marketing",o=MktPage.userid.split("@")[0];if(e.folder&&(e.cancelFirstExpand?delete this.attributes.cancelFirstExpand:this.childNodes&&this.childNodes.length>0&&!e.mktExpanded&&MktFolder.saveExpandState(this,!0)),this.text==t||this.parentNode.text==t)for(n=0;n<this.childNodes.length;n++)0==this.childNodes[n].attributes.system&&(this.childNodes[n].text!==o?this.childNodes[n].ui.node.hidden=!0:MktAsyncTreeNode.prototype.expand=function(){var e=this.attributes;e.folder&&(e.cancelFirstExpand?delete this.attributes.cancelFirstExpand:this.childNodes&&this.childNodes.length>0&&!e.mktExpanded&&MktFolder.saveExpandState(this,!0)),MktAsyncTreeNode.superclass.expand.apply(this,arguments),e.mktExpanded=!0});MktAsyncTreeNode.superclass.expand.apply(this,arguments),e.mktExpanded=!0}},APP.disableButtons=function(){console.log("Marketo App > Disabling: Buttons"),$jQ=jQuery.noConflict(),$jQ(".mktButtonPositive").remove()},APP.disableMenus=function(){console.log("Marketo App > Disabling: Menus");var e=Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton=function(){return e.apply(this,arguments),{text:MktLang.getStr("mktMaMenu.New"),iconCls:"mkiBooksBlue",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),o=t&&t.config&&t.config.accessZoneId&&1==t.config.accessZoneId;e.menu.items.each(function(e){e.setDisabled(o)})}}};var t=Mkt.app.MarketingActivities.Toolbar.getNewMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewMenuButton=function(){return t.apply(this,arguments),{text:MktLang.getStr("mktMaMenu.New"),iconCls:"mkiBooksBlue",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),o=t&&t.config&&t.config.accessZoneId&&1==t.config.accessZoneId;e.menu.items.each(function(e){e.setDisabled(o)})}}};var o=Mkt.app.DesignStudio.Toolbar.getNewMenuButton;Mkt.app.DesignStudio.Toolbar.getNewMenuButton=function(){return o.apply(this,arguments),{text:MktLang.getStr("mktDsMenu.New"),iconCls:"mkiColorsCmyk",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),o=t&&t.config&&t.config.accessZoneId&&1==t.config.accessZoneId;e.menu.items.each(function(e){e.setDisabled(o)})}}};var n=Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions;Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions=Mkt.menus.marketingEvent.Toolbar.preShowMarketingEventActions=function(e){n.apply(this,arguments);var t=e.items,o=MktCanvas.getActiveTab(),a=o&&o.config&&o.config.accessZoneId&&1==o.config.accessZoneId,i=["cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","testNurtureProgram","eventSchedule","entryRescheduleEntries","sfdcCampaignSync","refreshFromWebinarProvider"];i.forEach(function(e){var o=t.get(e);o&&o.setDisabled(a)})};var a=MktMaMenu.preShowProgramActionsMenu;MktMaMenu.preShowProgramActionsMenu=function(e,t){a.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),i=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,s=["newSmartCampaign","newLocalAsset","createNewMarketingProgram","createProgramFolder","renameProgramFolder","deleteProgramFolder","convertToArchiveFolder","convertToCampaignFolder","scClone","cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","scArchive","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","scMove","scActivate","scAbort","scClearPalette","scClearSmartList","scClearFlow","shareProgramFolder","progGenerateRef","checkForCorruptEmails"];return s.forEach(function(e){var t=o.get(e);t&&t.setDisabled(i)}),e};var i=MktDsMenu.preShowEmailMenu;MktDsMenu.preShowEmailMenu=function(e,t){i.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,s=["emailApprove","emailUnapprove","emailClone","emailDelete","emailMove","emailNewTest","emailDraftSendTest","emailDraftApprove","emailApproveTest","emailDiscardTest"];return s.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var s=MktDsMenu.preShowPageMenu;MktDsMenu.preShowPageMenu=function(e,t){s.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["pageApprove","pageUnapprove","pageConvertToTestGroup","pageClone","pageDelete","urlTools","pageMove","pageDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var r=MktDsMenu.preShowFormMenu;MktDsMenu.preShowFormMenu=function(e,t){r.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["formApprove","formClone","formDelete","formMove","formDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var c=MktDsMenu.preShowSocialAppMenu;MktDsMenu.preShowSocialAppMenu=function(e,t){c.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["socialAppApprove","socialAppClone","socialAppDelete","socialAppDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var l=Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar;Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar=function(e,t){l.apply(this,arguments);var o=1==this.getSocialApp().get("zoneId"),n=Ext4.ComponentQuery.query("socialAppToolbar contextMenu [action=approve],socialAppToolbar contextMenu [action=clone],socialAppToolbar contextMenu [action=delete],socialAppToolbar contextMenu [action=editDraft],socialAppToolbar contextMenu [action=previewDraft],socialAppToolbar contextMenu [action=approveDraft],");return n.forEach(function(e){e&&e.setDisabled(o)}),e};var d=MktDsMenu.preShowPushNotificationMenu;MktDsMenu.preShowPushNotificationMenu=function(e,t){d.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["pushNotificationApprove","pushNotificationUnapprove","pushNotificationDelete","pushNotificationDraftEdit","pushNotificationDraftSendSample","pushNotificationDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var p=Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar;Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar=function(e,t){p.apply(this,arguments);var o=1==this.getMobilePushNotification().get("zoneId"),n=Ext4.ComponentQuery.query("mobilePushNotification contextMenu [action=approve],mobilePushNotification contextMenu [action=unapprove],mobilePushNotification contextMenu [action=clone],mobilePushNotification contextMenu [action=delete],mobilePushNotification contextMenu [action=editDraft],mobilePushNotification contextMenu [action=sendDraftSample],mobilePushNotification contextMenu [action=approveDraft],");return n.forEach(function(e){e&&e.setDisabled(o)}),e};var u=MktDsMenu.preShowContextMenu;MktDsMenu.preShowContextMenu=function(e,t){u.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["newLandingPage","newTestGroup","newPageTemplate","pageTemplateImport","newForm","newVideoShare","newShareButton","newReferralOffer","newEmail","newEmailTemplate","newSnippet","uploadImage","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var m=MktDsMenu.preShowTemplateMenu;MktDsMenu.preShowTemplateMenu=function(e,t){m.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["approvePageTemplate","unapprovePageTemplate","clonePageTemplate","pageTemplateDelete","approveDraftPageTemplate"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var g=MktDsMenu.preShowEmailTemplateMenu;MktDsMenu.preShowEmailTemplateMenu=function(e,t){g.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["emailTemplateApprove","emailTemplateUnapprove","emailTemplateClone","emailTemplateDelete","emailTemplateDraftSendTest","emailTemplateDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var h=MktDsMenu.preShowSnippetMenu;MktDsMenu.preShowSnippetMenu=function(e,t){h.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["snippetApprove","snippetUnapprove","snippetClone","snippetDelete","snippetDraftApprove"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var k=MktDsMenu.preShowImageMenu;MktDsMenu.preShowImageMenu=function(e,t){k.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=1==t.accessZoneId||!t.accessZoneId&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["uploadImage","imageDelete","replaceImage"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var f=MktLeadDbMenu.preShowContextMenu;MktLeadDbMenu.preShowContextMenu=function(e,t){f.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var y=MktLeadDbMenu.preShowListListMenu;MktLeadDbMenu.preShowListListMenu=function(e,t){y.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var b=MktLeadDbMenu.preShowSegmentationMenu;MktLeadDbMenu.preShowSegmentationMenu=function(e,t){b.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["createDraftSegmentation","approveSegmentation","unapproveSegmentation","deleteSegmentation","approveDraftSegmentation"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var v=MktLeadDbMenu.preShowSegmentationFolderMenu;MktLeadDbMenu.preShowSegmentationFolderMenu=function(e,t){v.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["newSegmentation","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var M=MktLeadDbMenu.preShowUserListMenu;MktLeadDbMenu.preShowUserListMenu=function(e,t){M.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["cloneSmartlist","cloneList","deleteList"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var $=MktAnalyticsMenu.preShowReportMenu;MktAnalyticsMenu.preShowReportMenu=function(e,t){$.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["cloneReport","deleteReport","moveReport"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e};var P=MktAnalyticsMenu.preshowReportFolderMenu;MktAnalyticsMenu.preshowReportFolderMenu=function(e,t){P.apply(this,arguments);var o=e.items,n=MktCanvas.getActiveTab(),a=e.currNode&&e.currNode.attributes&&1==e.currNode.attributes.accessZoneId||!e.currNode&&n&&n.config&&n.config.accessZoneId&&1==n.config.accessZoneId,i=["createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder","newRcm","share","moveReport"];return i.forEach(function(e){var t=o.get(e);t&&t.setDisabled(a)}),e}},APP.limitNurturePrograms=function(){console.log("Marketo App > Limiting: Nurture Programs");var e=Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback;Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback=function(){var t=!1,o=MktExplorer.boundTree.root,n="Nurture Program",a=[];o.cascade(function(){var e=this.attributes;e&&e.xtra&&e.xtra.compType==n&&e.xtra.accessZoneId==MktCanvas.activeTab.config.accessZoneId&&a.push(this)},void 0,[n]);if(a.length>=3&&(t=!0),1==t){var s=Ext.MessageBox.show({title:"MarketoLive",msg:"Individual workspaces are limited to 3 nurture programs.",width:400,closable:!0});return s.show,!1}return e.apply(this,arguments)}},APP.injectAnalyzerNavBar=function(){var e=window.setInterval(function(){if("undefined"!=typeof PODS){console.log("Marketo App > Injecting: Analyzer Navigation Bar"),window.clearInterval(e),"undefined"==typeof pod&&(pod=new PODS.Pod(PODS.getCookie("userPod")));for(var t=0;t<pod.valueSet.length;t++)if(currentUrl==pod.valueSet[t].url){console.log("Marketo App > Updating: CSS for Analyzer Navigation Bar"),$j=jQuery.noConflict();var o="#"+pod.valueSet[t].position;$j(o).parent().css("display","block"),$j(o).parent().siblings().css("display","none"),$j(o).removeClass("analyzer-button").addClass("analyzer-title"),$j(o).siblings().removeClass("analyzer-title").addClass("analyzer-button"),$j("#modeler,#success-path-analyzer,#opportunity-influence-analyzer,#program-analyzer").bind("click",function(e){console.log("Marketo App > Identifying: Current Analyzer");for(var t=0;t<pod.valueSet.length;t++)e.target.id==pod.valueSet[t].position&&(o=t);window.location=pod.valueSet[o].url})}}},0)},APP.enableSaving=function(){console.log("Marketo App > Enabling: Saving for Editors & Nurture Streams"),Mkt3.data.Store.prototype.sync=function(){this.autoSyncSuspended&&(this.autoSync=!0,this.autoSyncSuspended=!1),this.getProxy()instanceof Mkt3.data.proxy.AjaxPost?Mkt3.Synchronizer.sync(this):this.callParent(arguments)},Ext4.data.Model.prototype.destroy=function(e){e=Ext.apply({records:[this],action:"destroy"},e);var s,r,c,l,d,t=this,o=t.phantom!==!0,n=e.scope||t,a=t.stores,i=0;return l=new Ext.data.Operation(e),d=function(l){if(c=[t,l],l.wasSuccessful()){for(s=a.length;s>i;i++)r=a[i],r.remove(t,!0),o&&r.fireEvent("write",r,l);t.clearListeners(),Ext.callback(e.success,n,c)}else Ext.callback(e.failure,n,c);Ext.callback(e.callback,n,c)},o?t.getProxy().destroy(l,d,t):(l.complete=l.success=!0,l.resultSet=t.getProxy().reader.nullResultSet,d(l)),t}},APP.disableSaving=function(){console.log("Marketo App > Disabling: Saving for Editors & Nurture Streams"),Mkt3.data.Store.prototype.sync=function(){},Ext4.data.Model.prototype.destroy=function(){},Mkt3.controller.editor.form.settings.FieldSelection.prototype.deleteFormField=function(e){var o,n,a,i,t=e.getFieldWidget();if(t&&"fieldset"===t.get("datatype"))for(i=this.getForm().getFormFields(),o=e.get("id"),n=0;n<i.getCount();n++)a=i.getAt(n),a.get("fieldsetFieldId")==o&&this.deleteFormField(a);e.destroy({scope:this,callback:function(e,o){o.success&&t&&t.destroy()}}),this.renumberWidgets()}},APP.overlayEmailDesigner=function(){console.log("Marketo App > Overlaying: Email Designer");var e=APP.getCookie("logo"),t=APP.getCookie("color");null==e&&(e=defaultTurnerLogoWhite),null==t&&(t=defaultColor);var o=window.setInterval(function(){var n=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-bkg"),a=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("button-bkg"),i=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company"),s=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-container"),r=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company-container");null!=n&&null!=a&&null!=i&&(console.log("Marketo App > Overlaying: iframe"),s.style.display="none",r.style.display="block",n.style.backgroundColor=t,a.style.backgroundColor=t,i.src=e,window.clearInterval(o))},0)},APP.overlayLandingPageDesigner=function(){console.log("Marketo App > Overlaying: Landing Page Designer");var e=APP.getCookie("logo"),t=APP.getCookie("color");null==e&&(e=defaultTurnerLogoGreen),null==t&&(t=defaultColor);var o=window.setInterval(function(){var n=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("lp-logo"),a=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("background-color"),i=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("bigger-background"),s=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("sub-title");null!=n&&null!=a&&null!=i&&null!=s&&(console.log("Marketo App > Overlaying: iframe"),n.src=e,a.style.backgroundColor=t,i.style.backgroundColor=t,s.innerHTML=companyName+" invites you to join:",window.clearInterval(o))},0)},APP.getEmailIds=function(e){console.log("Marketo App > Getting Email Ids for Pod: "+e);var t=[];switch(e){case"app-sjp":t.push(15464),t.push(12818,12820,12819,12816,12811,12815,12812,12821,12813,12814,12817,12823),t.push(10010,10179,10180,12845,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762);break;case"app-ab07":t.push(14240),t.push(10171,10173,10172,10169,9957,9974,9968,10174,9972,9973,10170,9962),t.push(10010,10179,10180,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762);break;case"app-ab08":t.push(13924),t.push(12818,12820,12819,12816,12811,12815,12812,12821,12813,12814,12817,12823),t.push(10010,10179,10180,12845,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762);break;default:console.error("Marketp App > Invalid: User Pod in getEmailIds()")}return t},-1!=currentUrl.search(mktoAppDomain)||-1!=currentUrl.search(mktoDesignerDomain)||-1!=currentUrl.search(mktoWizard)){console.log("Marketo App > Location: Marketo URL");var isMktPageApp=window.setInterval(function(){if("undefined"!=typeof MktPage){console.log("Marketo App > Location: Marketo Page"),window.clearInterval(isMktPageApp);var e=MktPage.savedState.custPrefix,t=MktPage.userid;t.split("@")[0];if(-1==e.search("^mktodemoaccount")||-1==t.search(".demo@marketo.com$")&&-1==t.search("^admin@mktodemoaccount")&&-1==t.search("^mktodemoaccount[a-z0-9]*@marketo.com"))n==mktoMyMarketoFragment&&APP.overrideDeliverabilityToolsTile(),window.onhashchange=function(){n==mktoMyMarketoFragment&&APP.overrideDeliverabilityToolsTile()};else{if(console.log("Marketo App > Location: MarketoLive Instance"),-1!=t.search("^admin@mktodemoaccount")||-1!=t.search("^mktodemoaccount[a-z0-9]*@marketo.com")){if(console.log("Marketo App > User: Admin"),APP.disableDemoPluginCheck(),"false"!=APP.getCookie("priv"))return;console.log("Marketo App > User: Admin is now a normal user")}var n,a,i="AR1559A1!",s="AR1544A1!",r="RCM39A1!",c="RCM5A1!",l="AR1682A1!";if(APP.disableDemoPluginCheck(),n=Mkt3.DL.getDlToken(),n==mktoMyMarketoFragment?APP.overrideDeliverabilityToolsTile():(n==mktoMarketingActivitiesDefaultFragment||n==mktoLeadDatabaseDefaultFragment)&&APP.disableButtons(),-1==n.search("^"+mktoEmailDesignerFragment)&&n.search("^"+mktoEmailPreviewFragment)&&-1==n.search("^"+mktoLandingPageDesignerFragment)&&-1==n.search("^"+mktoLandingPagePreviewFragment)&&-1==n.search("^"+mktoFormWizardFragment)&&-1==n.search("^"+mktoMobilePushNotificationWizardFragment)&&-1==n.search("^"+mktoSocialAppWizardFragment)){if(n!=mktoMyMarketoFragment)var d=window.setInterval(function(){null!==MktCanvas.activeTab&&(console.log("Marketo App > Location: Marketo Canvas"),APP.overrideTreeNodeExpand(),window.clearInterval(d),a=MktCanvas.activeTab.config.accessZoneId,1==a&&(APP.disableSmartCampaignSaving(),APP.enableSmartCampaignCanvas(),APP.disableSaving()))},0);(n==i||n==s||n==r||n==c||n==l)&&(console.log("Marketo App > Location: Analytics"),APP.injectAnalyzerNavBar());var p={},u=[],m=[],g=APP.getEmailIds(APP.getCookie("userPod"));switch(e){case"mktodemoaccount106":p.dpageid_11381="dpageid_11381",p.dpageid_11291="dpageid_11291",u.push(2892,1749,1900),m.push(29,23);break;case"mktodemoaccount106a":p.dpageid_10672="dpageid_10672",p.dpageid_10454="dpageid_10454",u.push(2532,1749,1900),m.push(29,26);break;case"mktodemoaccount106b":p.dpageid_10760="dpageid_10768",p.dpageid_10762="dpageid_10762",u.push(2472,1749,1900),m.push(2,1)}var h=window.setInterval(function(){"undefined"!=typeof mktLPLManager&&(window.clearInterval(h),APP.discardLandingPageDrafts(p),APP.discardEmailDrafts(g),APP.discardFormPushDrafts("Form",u),APP.discardFormPushDrafts("MobilePushNotification",m),APP.limitNurturePrograms(),APP.disableMenus())},0)}else{if(-1!=n.search("^"+mktoLandingPageDesignerFragment)){console.log("Marketo App > Location: Landing Page Designer");var k="LPE11381",f="LPP11381",y="LPE10672",b="LPP10672",v="LPE10768",M="LPP10768";switch(APP.disableSystemErrorMessage(),n){case k:APP.overlayLandingPageDesigner();break;case f:APP.overlayLandingPageDesigner();break;case y:APP.overlayLandingPageDesigner();break;case b:APP.overlayLandingPageDesigner();break;case v:APP.overlayLandingPageDesigner();break;case M:APP.overlayLandingPageDesigner()}return}console.log("Marketo App > Location: Designers/Wizards");var $,P="EME15464",E="EME14240",w="EME13924",I={filters:[{property:"id",value:Mkt3.DL.dl.compId}],callback:function(e){e.forEach(function(e){$=e.get("zoneId"),console.log("Marketo App > currAssetZoneId = "+$),1==$?APP.disableSaving():"false"==APP.getCookie("priv")&&APP.disableSaving()})}};switch(Mkt3.DL.dl.dlCompCode){case mktoEmailDesignerFragment:switch(console.log("Callback for email editor"),Ext4.getStore("Email").load(I),n){case P:APP.overlayEmailDesigner();break;case E:APP.overlayEmailDesigner();break;case w:APP.overlayEmailDesigner()}break;case mktoFormWizardFragment:console.log("Callback for form editor"),Ext4.getStore("Form").load(I);break;case mktoMobilePushNotificationWizardFragment:console.log("Callback for push editor"),Ext4.getStore("MobilePushNotification").load(I);break;case mktoSocialAppWizardFragment:console.log("Callback for social editor"),Ext4.getStore("SocialApp").load(I);break;default:$=-1}}window.onhashchange=function(){if(console.log("Window: Hash Changed"),currentUrl=window.location.href,n=Mkt3.DL.getDlToken(),n==mktoMyMarketoFragment?APP.overrideDeliverabilityToolsTile():(n==mktoMarketingActivitiesDefaultFragment||n==mktoLeadDatabaseDefaultFragment)&&APP.disableButtons(),-1==n.search("^"+mktoEmailDesignerFragment)&&-1==n.search("^"+mktoLandingPageDesignerFragment)&&-1==n.search("^"+mktoFormWizardFragment)&&-1==n.search("^"+mktoMobilePushNotificationWizardFragment)&&-1==n.search("^"+mktoSocialAppWizardFragment)&&n!=mktoMyMarketoFragment){var e=window.setInterval(function(){if(null!==MktCanvas.activeTab){console.log("Marketo App > Location: Marketo Canvas"),window.clearInterval(e),APP.overrideTreeNodeExpand();var t=MktCanvas.activeTab.config.accessZoneId;t==a||(1==t?(APP.disableSmartCampaignSaving(),APP.enableSmartCampaignCanvas(),APP.disableSaving(),a=t):("false"!=APP.getCookie("priv")&&(APP.enableSmartCampaignSaving(),APP.enableSaving()),a=t))}},0);(n==i||n==s||n==r||n==c||n==l)&&(console.log("Marketo App > Location: Analytics"),APP.injectAnalyzerNavBar())}}}}},0)}